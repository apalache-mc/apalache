Fix a problem in comparing functions with empty domains in the arrays encoding, see #1811