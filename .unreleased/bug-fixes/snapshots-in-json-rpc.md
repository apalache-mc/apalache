Fix resulting snapshots in `assumeTransition` and `assumeState` (#3219)
